<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TikTok Clone</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <!-- Loading Screen -->
    <div id="loadingScreen" class="loading-screen">
        <div class="loading-spinner"></div>
        <p>Chargement...</p>
    </div>

    <!-- Login Modal -->
    <div id="loginModal" class="modal-overlay" style="display: none;">
        <div class="modal-content auth-modal">
            <span class="close-btn" onclick="hideLoginModal()">&times;</span>
            <h2>Connexion</h2>
            <p style="margin-bottom: 20px; color: #aaa;">Mode d√©mo activ√© - Connectez-vous pour tester les fonctionnalit√©s</p>
            <button class="btn btn-primary" onclick="hideLoginModal(); document.getElementById('appContainer').style.display='block'">
                Se connecter (D√©mo)
            </button>
        </div>
    </div>

    <!-- Main App -->
    <div class="app-container" id="appContainer" style="display: none;">
        <!-- Navigation -->
        <nav class="navbar">
            <div class="logo">
                <i class="fas fa-video"></i> TikTok Clone
            </div>
            
            <div class="search-bar">
                <input type="text" id="searchInput" placeholder="Rechercher...">
                <button class="search-btn"><i class="fas fa-search"></i></button>
            </div>
            
            <div class="nav-right">
                <div class="coin-balance" id="coinBalance" onclick="openCoinShop()">
                    <i class="fas fa-coins"></i>
                    <span>100</span>
                </div>
                
                <button class="btn btn-live" onclick="openLiveSetup()">
                    <i class="fas fa-broadcast-tower"></i> Live
                </button>
                
                <button class="btn btn-upload" onclick="openCreateModal()">
                    <i class="fas fa-plus"></i> Cr√©er
                </button>
                
                <div class="user-menu" onclick="toggleUserMenu()">
                    <img id="userAvatar" src="https://randomuser.me/api/portraits/lego/1.jpg" alt="Profil">
                </div>
            </div>
            
            <div class="dropdown-menu" id="userDropdown" style="display: none;">
                <a href="#" onclick="openProfile()"><i class="fas fa-user"></i> Mon profil</a>
                <a href="#" onclick="openWallet()"><i class="fas fa-wallet"></i> Mon portefeuille</a>
                <a href="#" onclick="openSettings()"><i class="fas fa-cog"></i> Param√®tres</a>
                <div class="divider"></div>
                <a href="#" onclick="hideLoginModal()"><i class="fas fa-sign-out-alt"></i> D√©connexion</a>
            </div>
        </nav>

        <!-- Main Content -->
        <main class="main-content">
            <div class="video-feed" id="videoFeed">
                <!-- Les vid√©os seront charg√©es ici -->
            </div>
            
            <!-- Sidebar (visible sur desktop) -->
            <aside class="sidebar">
                <div class="sidebar-section">
                    <h3>D√©couvrir</h3>
                    <a href="#"><i class="fas fa-fire"></i> Tendances</a>
                    <a href="#"><i class="fas fa-music"></i> Musique</a>
                    <a href="#"><i class="fas fa-gamepad"></i> Gaming</a>
                    <a href="#"><i class="fas fa-graduation-cap"></i> √âducation</a>
                </div>
            </aside>
        </main>

        <!-- Bottom Navigation (Mobile) -->
        <div class="bottom-nav">
            <a href="#" class="nav-item active"><i class="fas fa-home"></i></a>
            <a href="#" class="nav-item"><i class="fas fa-search"></i></a>
            <a href="#" class="nav-item" onclick="openCreateModal()"><i class="fas fa-plus-square"></i></a>
            <a href="#" class="nav-item"><i class="fas fa-inbox"></i></a>
            <a href="#" class="nav-item" onclick="openProfile()"><i class="fas fa-user"></i></a>
        </div>

        <!-- Modales -->
        <div id="createModal" class="modal-overlay" style="display: none;">
            <div class="modal-content">
                <span class="close-btn" onclick="closeCreateModal()">&times;</span>
                <h2>Cr√©er une vid√©o</h2>
                
                <div class="video-preview" id="videoPreview">
                    <video id="previewVideo" style="display: none;"></video>
                    <div class="preview-placeholder">
                        <i class="fas fa-video"></i>
                        <p>Aucune vid√©o s√©lectionn√©e</p>
                    </div>
                </div>
                
                <div class="modal-actions">
                    <button class="btn btn-action" onclick="startRecording()">
                        <i class="fas fa-video"></i> Filmer
                    </button>
                    <button class="btn btn-action" onclick="openFilePicker()">
                        <i class="fas fa-upload"></i> Importer
                    </button>
                    <input type="file" id="videoInput" accept="video/*" style="display: none;">
                </div>
                
                <div class="form-section">
                    <label>L√©gende</label>
                    <textarea id="videoCaption" placeholder="Ajoutez une l√©gende... #hashtag" rows="3"></textarea>
                    
                    <div class="form-group">
                        <label>
                            <input type="checkbox" id="monetizeVideo">
                            Mon√©tiser cette vid√©o
                        </label>
                    </div>
                    
                    <div class="form-group">
                        <label>Visibilit√©</label>
                        <select id="videoPrivacy">
                            <option value="public">Public</option>
                            <option value="private">Priv√©</option>
                        </select>
                    </div>
                    
                    <div id="videoFileInfo" class="file-info">
                        <i class="fas fa-file-video"></i>
                        <span>Aucun fichier s√©lectionn√©</span>
                    </div>
                </div>
                
                <div class="modal-footer">
                    <button class="btn btn-secondary" onclick="closeCreateModal()">Annuler</button>
                    <button class="btn btn-primary" onclick="publishVideo()" id="publishBtn" disabled>
                        <i class="fas fa-paper-plane"></i> Publier
                    </button>
                </div>
            </div>
        </div>

        <!-- Live Setup Modal -->
        <div id="liveSetupModal" class="modal-overlay" style="display: none;">
            <div class="modal-content">
                <span class="close-btn" onclick="closeLiveSetup()">&times;</span>
                <h2>D√©marrer un live</h2>
                
                <div class="form-section">
                    <div class="form-group">
                        <label>Titre du live</label>
                        <input type="text" id="liveTitle" placeholder="Titre de votre live...">
                    </div>
                    
                    <div class="form-group">
                        <label>Description</label>
                        <textarea id="liveDescription" placeholder="D√©crivez votre live..." rows="3"></textarea>
                    </div>
                </div>
                
                <div class="modal-footer">
                    <button class="btn btn-secondary" onclick="closeLiveSetup()">Annuler</button>
                    <button class="btn btn-primary" onclick="startLiveStream()">
                        <i class="fas fa-broadcast-tower"></i> D√©marrer
                    </button>
                </div>
            </div>
        </div>

        <!-- Live Interface -->
        <div id="liveInterface" class="live-interface" style="display: none;">
            <div class="live-header">
                <div class="streamer-info">
                    <img id="streamerAvatar" src="" alt="">
                    <div>
                        <h3 id="streamerName"></h3>
                        <span class="viewer-count"><i class="fas fa-eye"></i> <span id="viewerCount">0</span> spectateurs</span>
                    </div>
                </div>
                
                <div class="live-controls">
                    <button class="btn btn-gift" onclick="openGiftShop()">
                        <i class="fas fa-gift"></i> Cadeaux
                    </button>
                    <button class="btn btn-danger" onclick="endLiveStream()">
                        <i class="fas fa-stop"></i> Terminer
                    </button>
                </div>
            </div>
            
            <div class="live-content">
                <div class="video-container">
                    <div class="live-placeholder">
                        <i class="fas fa-broadcast-tower"></i>
                        <p>Live en cours (Mode d√©mo)</p>
                    </div>
                    <div class="live-stats">
                        <span class="stat"><i class="fas fa-heart"></i> <span id="liveLikes">0</span></span>
                        <span class="stat"><i class="fas fa-gift"></i> <span id="liveGifts">0</span></span>
                        <span class="stat"><i class="fas fa-comment"></i> <span id="liveComments">0</span></span>
                    </div>
                </div>
                
                <div class="live-sidebar">
                    <div class="chat-container">
                        <div class="chat-header">
                            <h4>Chat en direct</h4>
                            <span>0 en ligne</span>
                        </div>
                        
                        <div class="chat-messages" id="chatMessages">
                            <div class="chat-message">
                                <strong>Syst√®me:</strong> Bienvenue sur le live!
                            </div>
                        </div>
                        
                        <div class="chat-input">
                            <input type="text" id="chatInput" placeholder="Envoyer un message...">
                            <button id="sendChatBtn"><i class="fas fa-paper-plane"></i></button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Gift Shop Modal -->
        <div id="giftShopModal" class="modal-overlay" style="display: none;">
            <div class="modal-content">
                <span class="close-btn" onclick="closeGiftShop()">&times;</span>
                <h2>Envoyer un cadeau</h2>
                
                <div class="gifts-grid">
                    <div class="gift-item" onclick="selectGift('rose', 1)">
                        <div class="gift-icon">üåπ</div>
                        <div class="gift-name">Rose</div>
                        <div class="gift-price">1 coin</div>
                    </div>
                    
                    <div class="gift-item" onclick="selectGift('crown', 10)">
                        <div class="gift-icon">üëë</div>
                        <div class="gift-name">Couronne</div>
                        <div class="gift-price">10 coins</div>
                    </div>
                    
                    <div class="gift-item" onclick="selectGift('diamond', 50)">
                        <div class="gift-icon">üíé</div>
                        <div class="gift-name">Diamant</div>
                        <div class="gift-price">50 coins</div>
                    </div>
                    
                    <div class="gift-item" onclick="selectGift('rocket', 100)">
                        <div class="gift-icon">üöÄ</div>
                        <div class="gift-name">Fus√©e</div>
                        <div class="gift-price">100 coins</div>
                    </div>
                </div>
                
                <div class="selected-gift" id="selectedGift" style="display: none;">
                    <h3>Cadeau s√©lectionn√©</h3>
                    <div class="gift-preview">
                        <span id="selectedGiftIcon">üåπ</span>
                        <div>
                            <h4 id="selectedGiftName">Rose</h4>
                            <p>Co√ªt: <span id="selectedGiftPrice">1</span> coins</p>
                        </div>
                    </div>
                    
                    <div class="gift-message">
                        <input type="text" id="giftMessage" placeholder="Ajouter un message...">
                    </div>
                    
                    <button class="btn btn-primary" onclick="sendGift()">
                        <i class="fas fa-gift"></i> Envoyer le cadeau
                    </button>
                </div>
            </div>
        </div>

        <!-- Notifications -->
        <div id="notificationsContainer" class="notifications-container"></div>
    </div>

    <!-- Script unique -->
    <script src="script.js"></script>
</body>
</html>
