<!DOCTYPE html>
<html>
<head>
    <title>Setup TIKTAK GitHub</title>
</head>
<body>
    <h2>Configuration GitHub Storage</h2>
    
    <input id="username" placeholder="Ton username GitHub">
    <input id="repo" placeholder="Nom du dépôt" value="tiktok-data">
    <input id="token" placeholder="Token GitHub" type="password">
    
    <button onclick="setup()">Initialiser</button>
    
    <script src="storage/githubStorage.js"></script>
    <script>
    async function setup() {
        const config = {
            owner: document.getElementById('username').value,
            repo: document.getElementById('repo').value,
            token: document.getElementById('token').value,
            branch: 'main'
        };
        
        const storage = new GitHubStorage(config);
        
        try {
            // Créer la structure initiale
            await storage.writeFile('data/videos/index.json', {
                last_updated: new Date().toISOString(),
                total_videos: 0,
                videos: []
            }, 'Initialisation TIKTAK');
            
            alert('✅ Dépôt initialisé avec succès!');
        } catch (error) {
            alert('❌ Erreur: ' + error.message);
        }
    }
    </script>
</body>
</html>